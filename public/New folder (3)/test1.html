<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
  <section>
    <h2>Product List</h2>
    <div id="product-list">
      <div id="product1">
        <h3>Product 1</h3>
        <p>Price: $10</p>
        <p>Stock: 20</p>
        <label for="product1-qty">Qty:</label>
        <input type="number" id="product1-qty" min="0" max="20">
        <button onclick="addToCart('product1')">Add to Cart</button>
      </div>
      <div id="product2">
        <h3>Product 2</h3>
        <p>Price: $20</p>
        <p>Stock: 10</p>
        <label for="product2-qty">Qty:</label>
        <input type="number" id="product2-qty" min="0" max="10">
        <button onclick="addToCart('product2')">Add to Cart</button>
      </div>
      <!-- Add more product divs here -->
    </div>
  </section>
  
  <section>
    <h2>Shopping Cart</h2>
    <ol id="cart"></ol>
  </section>
  
  <script>
    // Define an array to store the cart items
    let cart = [];
  
    // Define a function to add a product to the cart
    function addToCart(productId) {
  let qtyInput = document.getElementById(productId + '-qty');
  let qty = parseInt(qtyInput.value);
  let product = document.getElementById(productId);
  let productName = product.getElementsByTagName('h3')[0].innerHTML;
  let productPrice = parseFloat(product.getElementsByTagName('p')[0].innerHTML.replace('$', ''));
  let productStock = parseInt(product.getElementsByTagName('p')[1].innerHTML.substring(7));

  if (qty > 0 && qty <= productStock) {
    cart.push({name: productName, price: productPrice, qty: qty});

    // Update the product stock
    productStock -= qty;
    product.getElementsByTagName('p')[1].innerHTML = 'Stock: ' + productStock;

    // Clear the quantity input
    qtyInput.value = '';

    // Update the cart display
    updateCartDisplay();
  }
}

  
    // Define a function to update the cart display
    function updateCartDisplay() {
      let cartList = document.getElementById('cart');
      cartList.innerHTML = '';
  
      for (let i = 0; i < cart.length; i++) {
        let item = cart[i];
        let listItem = document.createElement('li');
        let itemText = document.createTextNode(item.name + ' - $' + item.price + ' x ' + item.qty);
        listItem.appendChild(itemText);
        cartList.appendChild(listItem);
      }
    }
  </script>
  
</body>
</html>